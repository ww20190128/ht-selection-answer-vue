"use strict";(self["webpackChunkxlzx"]=self["webpackChunkxlzx"]||[]).push([[128],{55315(e,n,t){t.d(n,{A:()=>o});var a=t(61832);function r(e,n){var t=(0,a.g2)("van-dialog");return(0,a.uX)(),(0,a.Wv)(t,(0,a.v6)(e.$attrs,{class:"base-dialog",transition:"bounce"}),{default:(0,a.k6)(function(){return[(0,a.RG)(e.$slots,"default")]}),_:3},16)}var i=t(71241);const s={},l=(0,i.A)(s,[["render",r]]),o=l},29481(e,n,t){t.d(n,{A:()=>u});var a=t(61832),r=t(24232);function i(e,n,t,i,s,l){return(0,a.uX)(),(0,a.CE)("div",{class:"copy-right",style:(0,r.Tr)({backgroundColor:t.backgroundColor})},[(0,a.RG)(e.$slots,"default",{},function(){var e;return[(0,a.eW)((0,r.v_)(null===(e=i.wechatInfo)||void 0===e?void 0:e.copyright),1)]},!0)],4)}var s=t(80057);const l={name:"CopyRight",props:{backgroundColor:{type:String,default:"#F9F9F9"}},setup:function(){var e=(0,s.Pj)(),n=(0,a.EW)(function(){return e.getters.wechatInfo});return{wechatInfo:n}}};var o=t(71241);const c=(0,o.A)(l,[["render",i],["__scopeId","data-v-5211f72a"]]),u=c},13762(e,n,t){t.d(n,{A:()=>v});var a=t(61832);const r=t.p+"img/remind.e9035ad0.gif";var i={class:"dialog-content"},s={class:"text"},l={key:0,class:"tag"};function o(e,n,t,o,c,u){var d=(0,a.g2)("van-icon"),p=(0,a.g2)("BaseDialog");return(0,a.uX)(),(0,a.Wv)(p,(0,a.v6)(e.$attrs,{showConfirmButton:!1}),{default:(0,a.k6)(function(){return[(0,a.Lk)("div",i,[n[3]||(n[3]=(0,a.Lk)("img",{src:r},null,-1)),(0,a.Lk)("div",s,[(0,a.RG)(e.$slots,"default",{},void 0,!0)]),(0,a.Lk)("div",{class:"button-wrap button1-wrap",onClick:n[0]||(n[0]=function(){return o.confirm1&&o.confirm1.apply(o,arguments)})},[(0,a.RG)(e.$slots,"button1",{},void 0,!0)]),(0,a.Lk)("div",{class:"button-wrap button2-wrap",onClick:n[1]||(n[1]=function(){return o.confirm2&&o.confirm2.apply(o,arguments)})},[(0,a.RG)(e.$slots,"button2",{},void 0,!0),t.showTag?((0,a.uX)(),(0,a.CE)("div",l,"福利")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",{class:"icon",onClick:n[2]||(n[2]=function(){return o.close&&o.close.apply(o,arguments)})},[(0,a.bF)(d,{name:"close",color:"#898989"})])])]}),_:3},16)}var c=t(55315);const u={components:{BaseDialog:c.A},props:{showTag:{type:Boolean,default:!1}},setup:function(e,n){function t(){n.emit("update:show",!1)}function a(){n.emit("confirm1")}function r(){n.emit("confirm2")}return{close:t,confirm1:a,confirm2:r}}};var d=t(71241);const p=(0,d.A)(u,[["render",o],["__scopeId","data-v-e7e5e2be"]]),v=p},87436(e,n,t){t.r(n),t.d(n,{default:()=>re});t(74423),t(21699);var a=t(61832),r=t(78258),i=t(24232),s={class:"pk-wrap"},l={class:"progress-wrap"},o={class:"question-wrap"},c={class:"top-wrap"},u=["innerHTML"],d={class:"bottom-wrap"},p={class:"matter-wrap van-tab-wrap"},v={key:0,class:"tag"},g={key:1,class:"knowledge"},m=["innerHTML"],f={class:"single-question-wrap"},k={key:0,class:"tag"},w={key:1,class:"knowledge"},h=["innerHTML"],y={key:2,class:"selections-wrap"},b=["textContent"],L={class:"selection-value"},C=["innerHTML"],q={class:"selection-tag"},T={key:0,class:"correct-answer"},A={key:3,class:"box-wrap"},E={class:"box-text"},X=["innerHTML"],x={key:1,class:"single-question-wrap"},I={key:0,class:"tag"},M={key:1,class:"knowledge"},_=["innerHTML"],S={key:2,class:"selections-wrap"},H=["onClick"],B=["textContent"],$={class:"selection-value"},Q=["innerHTML"],N={class:"selection-tag"},F={key:0,class:"correct-answer"},W={key:3,class:"box-wrap"},R={class:"box-text"},U=["innerHTML"],G={class:"control-wrap"},K={class:"item score-item"};function D(e,n,t,D,P,z){var j,O,J,V,Y,Z,ee,ne,te,ae,re,ie,se,le,oe,ce,ue=(0,a.g2)("van-icon"),de=(0,a.g2)("van-tab"),pe=(0,a.g2)("van-tabs");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",l,[(0,a.Lk)("div",{class:"back-wrap",onClick:n[0]||(n[0]=function(){return e.handleGoBack&&e.handleGoBack.apply(e,arguments)})},[(0,a.bF)(ue,{name:"arrow-left",size:"18"})])]),(0,a.Lk)("div",o,[(null===(j=e.question)||void 0===j||null===(j=j.materialList)||void 0===j?void 0:j.length)>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",c,[(0,a.bo)((0,a.bF)(pe,{active:e.activeMaterialIndex,"onUpdate:active":n[1]||(n[1]=function(n){return e.activeMaterialIndex=n}),class:"material-list-wrap tabs-wrap","title-active-color":"#51d5b7","line-color":"#51d5b7",type:"button",onChange:e.changeMaterial},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.question.materialList,function(n,t){return(0,a.uX)(),(0,a.Wv)(de,{key:n.id,title:e.item.materialList.length>1?"材料".concat(t+1):"材料"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",{class:"material-wrap van-tab-wrap html-wrap",innerHTML:D.decodeTag(n.content,e.question.imgUrlBase)},null,8,u)]}),_:2},1032,["title"])}),128))]}),_:1},8,["active","onChange"]),[[r.aG,(null===(O=e.question)||void 0===O||null===(O=O.materialList)||void 0===O?void 0:O.length)>0]])]),(0,a.Lk)("div",d,[(0,a.bo)((0,a.bF)(pe,{active:e.activeMatterIndex,"onUpdate:active":n[2]||(n[2]=function(n){return e.activeMatterIndex=n}),class:"matter-list-wrap","title-active-color":"#51d5b7","line-color":"#51d5b7",type:"button"},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.question.matterList,function(n,t){return(0,a.uX)(),(0,a.Wv)(de,{key:n.id,title:e.item.matterList.length>1?"问题".concat(t+1):"题目"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",p,[null!==n&&void 0!==n&&n.questionTypeName?((0,a.uX)(),(0,a.CE)("div",v,(0,i.v_)(null===n||void 0===n?void 0:n.questionTypeName),1)):(0,a.Q3)("",!0),null!==n&&void 0!==n&&n.knowledgeName?((0,a.uX)(),(0,a.CE)("div",g,(0,i.v_)(null===n||void 0===n?void 0:n.knowledgeName),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:"html-wrap",innerHTML:D.decodeTag(null===n||void 0===n?void 0:n.matter,e.item.imgUrlBase)},null,8,m)])]}),_:2},1032,["title"])}),128))]}),_:1},8,["active"]),[[r.aG,(null===(J=e.question)||void 0===J||null===(J=J.matterList)||void 0===J?void 0:J.length)>0]]),(0,a.Lk)("div",f,[null!==(V=e.question)&&void 0!==V&&V.questionTypeName?((0,a.uX)(),(0,a.CE)("div",k,(0,i.v_)(null===(Y=e.question)||void 0===Y?void 0:Y.questionTypeName),1)):(0,a.Q3)("",!0),null!==(Z=e.question)&&void 0!==Z&&Z.knowledgeName?((0,a.uX)(),(0,a.CE)("div",w,(0,i.v_)(null===(ee=e.question)||void 0===ee?void 0:ee.knowledgeName),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:"html-wrap",innerHTML:D.decodeTag(null===(ne=e.question)||void 0===ne?void 0:ne.matter,e.question.imgUrlBase)},null,8,h),null!==(te=e.question)&&void 0!==te&&te.selections&&e.question.selections.length?((0,a.uX)(),(0,a.CE)("div",y,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.question.selections,function(n,t){var r,s;return(0,a.uX)(),(0,a.CE)("div",{class:(0,i.C4)(["selection-wrap",{"correct-answer":null===(r=e.question)||void 0===r?void 0:r.answer.includes(n.mark)}]),key:t},[(0,a.Lk)("div",{class:"selection-key",textContent:(0,i.v_)(n.mark)},null,8,b),(0,a.Lk)("div",L,[(0,a.Lk)("p",{class:"pre-wrap",innerHTML:D.decodeTag(n.value,e.item.imgUrlBase,!1)},null,8,C)]),(0,a.Lk)("div",q,[null!==(s=e.question)&&void 0!==s&&s.answer.includes(n.mark)?((0,a.uX)(),(0,a.CE)("span",T,"√")):(0,a.Q3)("",!0)])],2)}),128))])):(0,a.Q3)("",!0),null!==(ae=e.question)&&void 0!==ae&&ae.answer?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("div",E,[n[6]||(n[6]=(0,a.eW)(" 答案：",-1)),(0,a.Lk)("span",{class:"answer",innerHTML:D.decodeTag(e.question.answer,e.question.imgUrlBase,!1)},null,8,X)])])):(0,a.Q3)("",!0)])])],64)):((0,a.uX)(),(0,a.CE)("div",x,[null!==(re=e.question)&&void 0!==re&&re.questionTypeName?((0,a.uX)(),(0,a.CE)("div",I,(0,i.v_)(null===(ie=e.question)||void 0===ie?void 0:ie.questionTypeName),1)):(0,a.Q3)("",!0),null!==(se=e.question)&&void 0!==se&&se.knowledgeName?((0,a.uX)(),(0,a.CE)("div",M,(0,i.v_)(null===(le=e.question)||void 0===le?void 0:le.knowledgeName),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:"html-wrap",innerHTML:D.decodeTag(null===(oe=e.question)||void 0===oe?void 0:oe.matter,e.question.imgUrlBase)},null,8,_),null!==(ce=e.question)&&void 0!==ce&&ce.selections&&e.question.selections.length?((0,a.uX)(),(0,a.CE)("div",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.question.selections,function(n,t){return(0,a.uX)(),(0,a.CE)("div",{class:(0,i.C4)(["selection-wrap",{"correct-answer":e.answer.includes(n.mark)}]),key:t,onClick:function(e){return D.handleOption(n.mark)}},[(0,a.Lk)("div",{class:"selection-key",textContent:(0,i.v_)(n.mark)},null,8,B),(0,a.Lk)("div",$,[(0,a.Lk)("p",{class:"pre-wrap",innerHTML:D.decodeTag(n.value,e.question.imgUrlBase,!1)},null,8,Q)]),(0,a.Lk)("div",N,[e.answer.includes(n.mark)?((0,a.uX)(),(0,a.CE)("span",F,"√")):(0,a.Q3)("",!0)])],10,H)}),128))])):(0,a.Q3)("",!0),e.answer?((0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",R,[n[7]||(n[7]=(0,a.eW)(" 答案：",-1)),(0,a.Lk)("span",{class:"answer",innerHTML:D.decodeTag(e.answer,e.question.imgUrlBase,!1)},null,8,U)])])):(0,a.Q3)("",!0)]))]),(0,a.Lk)("div",G,[(0,a.Lk)("div",{class:"item",onClick:n[3]||(n[3]=function(){return D.handlePrev&&D.handlePrev.apply(D,arguments)})},"上一题"),(0,a.Lk)("div",K,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":n[4]||(n[4]=function(n){return e.score=n}),min:"0",max:"100"},null,512),[[r.Jo,e.score]])]),(0,a.Lk)("div",{class:"item",onClick:n[5]||(n[5]=function(){return D.handleSubmit&&D.handleSubmit.apply(D,arguments)})},"提交")])])}var P=t(20908),z=t(41034),j=t(30388),O=(t(28706),t(51629),t(48598),t(62062),t(44114),t(18111),t(7588),t(61701),t(69112),t(79432),t(26099),t(27495),t(25440),t(50375),t(42762),t(23500),t(76031),t(95816)),J=t(81387),V=t(29481),Y=t(77726),Z=t(13762),ee=t(14677);const ne={name:"answer",components:{CopyRight:V.A,RemindDialog:Z.A,Toast:ee.y},setup:function(){var e=(0,J.rd)(),n=(0,J.lq)(),t=(0,O.Kh)({currentSwipeIndex:0,screenWidth:"350",showRemindDialog:!1,showRemindItem:{},showExitRemindDialog:!1,question:{},score:0,answer:"",activeMatterIndex:0,activeMaterialIndex:0}),r=n.query,i=(r.from,r.answerId);function s(){return l.apply(this,arguments)}function l(){return l=(0,j.A)((0,P.A)().m(function n(){var a,r,s,l;return(0,P.A)().w(function(n){while(1)switch(n.p=n.n){case 0:return t.screenWidth=window.innerWidth-40,n.p=1,n.n=2,(0,Y.nT)({answerId:i});case 2:if(a=n.v,r=a.question,s=a.answer,l=a.score,r&&r.id){n.n=3;break}return e.push({path:"/home"}),n.a(2);case 3:t.question=r,t.answer=s,t.score=l,n.n=5;break;case 4:n.p=4,n.v,e.push({path:"/home"});case 5:return n.a(2)}},n,null,[[1,4]])})),l.apply(this,arguments)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.paragraphs||[],t=/&quot;/g,a=/font-family:.*?;/g,r=/font-size:.*?;/g,i=/line-height:.*?;/g,s=/background(-color)*:.*?;/g,l=/padding(-.*?)*:.*?;/g,o=/margin(-.*?)*:.*?;/g,c=/border(-.*?)*:.*?;/g,u=/\<p\s?.*?\>([\s\S]*?)\<\/p\>/g,d=/^\<div\s?.*?\>([\s\S]*?)\<\/div\>$/g,p=/\<h([1-6])\s?.*?\>([\s\S]*?)\<\/h[1-6]\>/g,v=/\<aipoint(\s?.*?)\>([\s\S]*?)\<\/aipoint\>/g,g=/\<span(\s?.*?)\>([\s\S]*?)\<\/span\>/g;return n.map(function(e){var n=e.content,m=e.type,f=e.level,k="";return n=n.replace(/^(\s|html0000)+/g,""),1==m&&(k="h"+(f+1)),n=n.replace(p,function(e,n,t){return"<p>"+t+"</p>"}),n=n.replace(d,function(e,n){return k?'<div class="'+k+'">'+n+"</div>":"<div>"+n+"</div>"}),n=n.replace(u,function(e,n){return k?'<p class="'+k+'">'+n+"</p>":"<p>"+n+"</p>"}),n=n.replace(t,'"'),n=n.replace(a,""),n=n.replace(r,""),n=n.replace(i,""),n=n.replace(s,""),n=n.replace(l,""),n=n.replace(c,""),n=n.replace(o,""),n=n.replace(v,function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=t.trim().replace(g,function(e,n,t){return"<span".concat(n,">").concat(t.trim(),"</span>")});return"<aipoint".concat(n,">").concat(a,"</aipoint>")}),n=n.replace(g,function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return""==t.trim()?"":e}),n})}function c(e){return u.apply(this,arguments)}function u(){return u=(0,j.A)((0,P.A)().m(function e(n){return(0,P.A)().w(function(e){while(1)switch(e.n){case 0:t.answer=n;case 1:return e.a(2)}},e)})),u.apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return p=(0,j.A)((0,P.A)().m(function n(){var a,r;return(0,P.A)().w(function(n){while(1)switch(n.n){case 0:if(""!==t.answer){n.n=1;break}return(0,ee.y)("请填写答案！"),n.a(2);case 1:if(0!==t.score){n.n=2;break}return(0,ee.y)("请评分！"),n.a(2);case 2:return n.n=3,(0,Y.en)({answerId:i,answer:t.answer,score:t.score});case 3:a=n.v,r=a.nextAnswerId,setTimeout(function(){e.push({path:"/answer",query:{answerId:r}}),(0,ee.y)("请开始新一题评论！")},500);case 4:return n.a(2)}},n)})),p.apply(this,arguments)}function v(){return g.apply(this,arguments)}function g(){return g=(0,j.A)((0,P.A)().m(function n(){return(0,P.A)().w(function(n){while(1)switch(n.n){case 0:e.go(-1);case 1:return n.a(2)}},n)})),g.apply(this,arguments)}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return"";"number"==typeof e&&(e+=""),"string"!=typeof e&&e.join&&(e=e.join("<br/><br/>"));var a="";try{var r=JSON.parse(e),i="";r.forEach(function(e,n){var t=e.trunk.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");t=t.replace(/&lt;red&gt;([\s\S]*?)&lt;\/red&gt;/g,"<span class='editor-red'>$1</span>"),i+=n+1+"."+t+"<br/>"}),a=i}catch(s){a=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),a=a.replace(/\u00a0/g," "),a=a.replace(/\n/g,"<br>"),a=a.replace(/&lt;dot&gt;([\s\S]*?)&lt;\/dot&gt;/g,"<span class='editor-dot'>$1</span>"),a=a.replace(/&lt;line&gt;([\s\S]*?)&lt;\/line&gt;/g,"<span class='editor-line'>$1</span>"),a=a.replace(/&lt;red&gt;([\s\S]*?)&lt;\/red&gt;/g,"<span class='editor-red'>$1</span>"),a=a.replace(/&lt;tcenter&gt;([\s\S]*?)&lt;\/tcenter&gt;/g,"<p class='editor-tcenter'>$1</p>"),a=a.replace(/&lt;br\/?&gt;/g,"<br/>"),a=a.replace(/&lt;img\s(.*?)&gt;/g,"<img $1>").replace(/&lt;\/img&gt;/g,"</img>"),a=t&&n?a.replace(/&lt;formula\ssrc=(.*?)&gt;.*?&lt;\/formula&gt;/g,"&lt;!--[img]$1[/img]--&gt;"):a.replace(/&lt;formula(.*?)&gt;/g,"&lt;formula&gt;"),n&&(a=a.replace(/&lt;\!--\[img\](.*?)\[\/img\]--&gt;/g,function(e,t){var a=t.split(".")[0],r=(a.substr(0,1).charCodeAt()+a.substr(1,1).charCodeAt())%8,i={};t=t.replace(/\((.+)\)/g,function(e,n){var t=n.split(",");return t.forEach(function(e){var n=e.split(":");n[1]&&(i[n[0]]=n[1])}),""});var s="";"f"==i.t&&(s+=i.w?" width="+i.w:"",s+=i.h?" height="+i.h:"");var l=n+r+"/"+t;return"<img src='"+l+"' alt=''"+s+" />"}))}return a}return(0,a.sV)(function(){s()}),(0,a.wB)(function(){return t.currentSwipeIndex},function(){}),(0,z.A)((0,z.A)({},(0,O.QW)(t)),{},{formattedMaterialParagraphs:o,decodeTag:m,handleOption:c,handleSubmit:d,handlePrev:v})}};var te=t(71241);const ae=(0,te.A)(ne,[["render",D],["__scopeId","data-v-b36081cc"]]),re=ae}}]);